# APT Sources
# {{ ansible_managed }}

# Main
deb http://deb.debian.org/debian {{ apt_edition|default(ansible_lsb.codename, true) }} main contrib non-free
{% if apt_include_source|default(False, True) %}
deb-src http://deb.debian.org/debian {{ apt_edition|default(ansible_lsb.codename, true) }} main contrib non-free
{% endif %}

{% if apt_edition|default(ansible_lsb.codename, true) == "testing" %}
# Secuirty
deb http://deb.debian.org/debian-security {{ apt_edition|default(ansible_lsb.codename, true) }}-security main contrib non-free
{% if apt_include_source|default(False, True) %}
deb-src http://deb.debian.org/debian-security {{ apt_edition|default(ansible_lsb.codename, true) }}-security main contrib non-free
{% endif %}
{% else %}
# Secuirty
deb http://deb.debian.org/debian-security {{ apt_edition|default(ansible_lsb.codename, true) }}/updates main contrib non-free
{% if apt_include_source|default(False, True) %}
deb-src http://deb.debian.org/debian-security {{ apt_edition|default(ansible_lsb.codename, true) }}/updates main contrib non-free
{% endif %}
{% endif %}

# Updates
deb http://deb.debian.org/debian {{ apt_edition|default(ansible_lsb.codename, true) }}-updates main contrib non-free
{% if apt_include_source|default(False, True) %}
deb-src http://deb.debian.org/debian {{ apt_edition|default(ansible_lsb.codename, true) }}-updates main contrib non-free
{% endif %}

# Backports
{% if apt_include_backports|default(True, True) %}
deb http://deb.debian.org/debian {{ apt_edition|default(ansible_lsb.codename, true) }}-backports main
{% if apt_include_source|default(False, True) %}
deb-src http://deb.debian.org/debian {{ apt_edition|default(ansible_lsb.codename, true) }}-backports main
{% endif %}
{% endif %}
